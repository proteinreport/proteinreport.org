{{ define "main" }}
<section class="flex flex-col items-center relative w-full border-b-4 mx-auto 2xl:max-w-7xl">
  <div class="flex flex-row flex-wrap w-full items-center 2xl:border-x-2 md:divide-x-4">
    <h2 class="text-center md:w-1/3 lg:text-7xl p-10">Resources</h2>
    <p class="md:w-2/3 p-10 lg:text-2xl">Research repository of academic articles and industry reports</p>
  </div>
  <div class="flex flex-col w-full border-t-4 divide-y-4 2xl:border-x-2">
    {{ $paginator := .Paginate (.Data.Pages) -}}
    {{ range $paginator.Pages -}}
    <div class="w-full flex flex-row flex-wrap items-center">
      <div class="relative w-full md:w-1/3">
        {{ $image := .Resources.GetMatch .Params.featured_image -}}
        {{ if $image -}}
        <img src="{{ $image.RelPermalink }}" alt="" class="aspect-video w-full object-contain">
        {{ else }}
        <img src="/images/article_placeholder.png" alt="" class="rotate-12 p-12 aspect-video w-full object-contain">
        {{ end -}}
        {{ if in .Params.resource_type "academic" }}
        <p class="border-2 border-l-0 p-2 absolute top-4 left-0">Academic Article</p>
        {{ else if in .Params.resource_type "industry" }}
        <p class="border-2 border-l-0 p-2 absolute top-4 left-0">Industry Report</p>
        {{ end }}
      </div>
      <div class="w-full flex flex-col md:w-2/3 p-2 lg:px-6">
        <a class="w-full" href="{{ .RelPermalink }}">
          <h2 class="text-4xl">{{ .Params.title }}</h2>
        </a>
        {{ $url := .Params.link }}
        {{ $u := urls.Parse $url }}
        <a class="pt-4" target="_blank" href="{{ .Params.link }}">{{ replace $u.Hostname "www." "" }}</a>
      </div>
    </div>
    {{ end }}
  </div>
  <div class="flex flex-wrap  justify-center">
    <div class="md:w-full pr-4 pl-4 lg:w-3/4 pr-4 pl-4">
      {{ template "_internal/pagination.html" . }}
    </div>
  </div>
  </div>
</section>
{{ end }}